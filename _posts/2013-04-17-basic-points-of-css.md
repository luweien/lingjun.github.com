---
layout: post
title: "CSS基础知识"
description: "CSS优先级 框模型"
category: 技术
tags: [CSS 技术 框模型 浮动]
---
{% include JB/setup %}

层叠(cascade)采用以下重要度次序：

1. 标为!important的用户样式；
2. 标为!important的作者样式；
3. 作者样式；
4. 用户样式；
5. 浏览器/用户代理应用的样式。
<!--break-->
根据选择器的特殊性决定规则的次序。具有更特殊选择器的规则优于具有比较一般的选择器的规则。如果两个规则的特殊性相同，那么后定义的规则优先。

## 特殊性
每种选择器被分配一个数字值，然后将规则的每个选择器的值加在一起，计算出规则的特殊性。

选择器的特殊性分为四个成本等级：a,b,c,d。

1. 如果样式是行内样式，则a=1；
2. b=ID选择器的总数；
3. 类、伪类和属性选择器的数量；
4. 类型选择器和伪元素选择器的数量。

> 通俗的说，用`style`属性编写的规则总是比其他任何规则特殊；
> 具有ID选择的规则比没有ID选择器的规则特殊；
> 具有类选择器的规则比只有类型选择器的规则特殊；
> 如果两个规则的特殊性相同，后定义的规则优先。

为了避免混乱，尽量保持一般性样式非常一般，特殊样式尽可能特殊，从而不需要覆盖特殊样式。如果发现不得不多次覆盖一般样式，那么从一般规则中删除需要覆盖的声明，并且将它显式地应用于需要它的每个元素。

## 继承
应用样式的元素的后代会继承样式的某些属性。
（IE和Netscape在继承表格中的字号方面有问题。为了解决这个问题，必须指定表格应该继承字号，或者在表格上单独设置字号）。

直接应用于元素的任何样式总会覆盖继承的样式，这是因为继承的样式的特殊性为空。

使当地使用层叠可以简化CSS，恰当地使用继承也可以减少代码中选择器的数量和复杂性。

## 规划、组织和维护样式表
### 对文档应用样式
将所有样式放在一个或多个外部样式表中。将外部样式表附着到网页上有两种方法，可以链接它们，也可以导入它们：

    <link href="/css/basic.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
    <!--
    @import url("/css/advanced.css");
    -->
    </style>

*导入规则需要放在样式表的最前面。*

# 可视化格式模型

*三个最重要的概念*

1. 浮动:
2. 定位: 绝对定位和相对定位
3. 框模型

## 框模型
框模型指定元素如何显示以及(在某种程度上)如何相互交互。页面上的每个元素被看做一个矩形框，这个框由元素的内容、填充、边框和空白变组成。

填充(padding)出现在内容区域的周围，添加边框(margin)会在填充的区域外边加一条线，在边框外边是空白边。空白边是透明的，一般使用它控制元素之间的间隔。

填充、边框和空白边是可选的。CSS中，width和height指的是内容区域的宽度和高度。填充、边框和空白边可以应用于一个元素的所有边，也可以应用于单独的边。空白边还可以是负值。

*为了和非标准框模型兼容*
不要给元素添加具有指定宽度的填充，而是尝试将填充或空白边添加到元素的父元素或子元素。

### 空白边叠加
当两个垂直空白边相遇时，它们将形成一个空白边。这个空白边的高度等于两个发生叠加的空白边的高度中的较大者。

只有普通文档流中块框的垂直空白边才会发生空白边叠加。行内框、浮动框或绝对定位框之间的空白边不会叠加。

## 定位概述

### 视觉格式化模型
p, h1或div等元素常常称为块级元素。这意味着这些元素显示为一块内容，即“块框”。

strong和span等元素成为行内元素，因为它们的内容显示在行中，即“行内框”。

可以使用display属性改变生成的框的类型。

CSS有三种基本的定位机制：普通流、浮动和绝对定位。除非专门指定，否则所有框都在普通流中定位。

### 相对定位
如果对一个元素进行相对定位，它将出现在它所在的位置上，然后可以通过设置垂直或水平位置，让这个元素“相对于”它的起点进行移动。

在使用相对定位时，无论是否进行移动，元素仍然占据原来的空间。因此，移动元素会导致它覆盖其它框。

普通流定位模型的一部分，元素的位置相对于它在普通流中的位置。

### 绝对定位
相对于最近的已定位祖先元素。如果元素没有已定位的祖先元素，那么它的位置相对于最初的包含块。

+ 固定定位
绝对定位的一个子类别。差异在于固定元素的包含块是视口。

### 浮动

浮动的框可以左右移动，直到它的外边缘碰到包含框或另一个浮动框的边缘。因为浮动框不在文档的普通流中，所以文档的普通流中的块框表现得就像浮动框不存在一样。

**行框和清理**
浮动框旁边的行框被缩短，从而给浮动框留出空间，行框围绕浮动框。

要想阻止行框围绕在浮动框的外边，需要对这个框应用clear。clear属性的值可以是left, right, both或none，它表示框的哪些边不应该挨着浮动框。
